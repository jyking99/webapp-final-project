(this["webpackJsonpwebapp-final-project"]=this["webpackJsonpwebapp-final-project"]||[]).push([[0],[,,,,,,,,function(e,t,c){e.exports={text:"Chat_text__X3MLL",inputArea:"Chat_inputArea__3bSyv",chatInput:"Chat_chatInput__2Y-lE",send:"Chat_send__2CNhK",bubble:"Chat_bubble__15NKC",outer:"Chat_outer__g2rim",history:"Chat_history__3w_wH"}},,,,function(e,t,c){e.exports={prof:"Profile_prof__S0vU6",head:"Profile_head__vwu1h",intro:"Profile_intro__1_aUa",content:"Profile_content__2vKfQ",attributes:"Profile_attributes__3VEmG",weak:"Profile_weak__2r6Pv"}},,,function(e,t,c){e.exports={navbar:"Navbar_navbar__2QHtB",navItem:"Navbar_navItem__NgyC-"}},function(e,t,c){e.exports={header:"ChatHeader_header__3MTRM"}},,function(e,t,c){e.exports={whole:"Post_whole__6ALM1",post:"Post_post__2Y6VX"}},function(e,t,c){e.exports={msg:"NewPost_msg__1OW0S",tagArea:"NewPost_tagArea__FYM1X"}},,,,,function(e,t,c){e.exports={header:"Header_header__1XZD_"}},function(e,t,c){e.exports={container:"App_container__XLEwj"}},,,,function(e,t,c){e.exports={container:"FriendsList_container__22z7y"}},function(e,t,c){e.exports={slider:"TopicSlider_slider__1rl1m"}},,,,,,function(e,t,c){},,,,,,,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(27),s=c.n(r),a=(c(36),c(3)),o=c(2),j=function(e){return(e.startsWith("data:image")?"":"/webapp-final-project")+e},l=c(15),d=c.n(l),b=c(0);var u=function(){return Object(b.jsxs)("nav",{className:d.a.navbar,children:[Object(b.jsx)("div",{className:d.a.navItem,children:Object(b.jsx)(a.b,{to:"/",children:Object(b.jsx)("img",{src:j("/assets/home.svg"),alt:"Home"})})}),Object(b.jsx)("div",{className:d.a.navItem,children:Object(b.jsx)(a.b,{to:"/explore",children:Object(b.jsx)("img",{src:j("/assets/explore.svg"),alt:"Explore"})})}),Object(b.jsx)("div",{className:d.a.navItem,children:Object(b.jsx)(a.b,{to:"/profile",children:Object(b.jsx)("img",{src:j("/assets/profile.svg"),alt:"Home"})})})]})},h=c(9),x=c(10),O={currentUserId:"junyi",users:[{id:"junyi",email:"wangcgv@bc.edu",photo:"/assets/user2.png",name:"Junyi Wang",bio:"biobiobio biobio bio.",tags:["Computer science","math","random"]},{id:"yufin",email:"yangalm@bc.edu",photo:"/assets/user2.png",name:"Yufin Yang",bio:"biobiobio biobio bio.",tags:["Computer science","math","dancing","random"]},{id:"ryan",email:"wangchn@bc.edu",photo:"/assets/user2.png",name:"Ryan Wang",bio:"biobiobio biobio bio.",tags:["PC gaming","FPS","random"]},{id:"roger",email:"yangahq@bc.edu",photo:"/assets/user2.png",name:"Roger Yang",bio:"biobiobio biobio bio.",tags:["Console gaming","Psychology","random"]}],chats:[{id:"chat-1",from:"yufin",to:"junyi",text:"Have you seen a dinosaur?",topic:"biology",datetime:"2020-02-09T22:45:28Z"},{id:"chat-2",from:"junyi",to:"yufin",text:"No.",topic:"biology",datetime:"2020-02-09T22:45:29Z"},{id:"chat-3",from:"roger",to:"junyi",text:"Are you a samurai?",topic:"history",datetime:"2020-02-09T22:45:26Z"},{id:"chat-4",from:"junyi",to:"roger",text:"Yes.",topic:"history",datetime:"2020-02-09T22:45:27Z"}],posts:[{userId:"roger",text:"Post 1",datetime:"2020-05-22T11:45:27Z",topic:"random",replies:[{from:"ryan",text:":))"}]},{userId:"yufin",text:"Post 2",topic:"random",datetime:"2021-04-22T11:45:27Z",replies:[]}]};var p=Object(n.createContext)();var m=function(e){var t=Object(n.useState)((function(){return JSON.parse(window.localStorage.getItem("store"))||O})),c=Object(x.a)(t,2),i=c[0],r=c[1];function s(e){return i.chats.find((function(t){return t.id==e}))}function a(e){return i.users.find((function(t){return t.id==e}))}return Object(n.useEffect)((function(){window.localStorage.setItem("store",JSON.stringify(i))}),[i]),Object(b.jsx)(p.Provider,{value:Object(h.a)(Object(h.a)({},i),{},{changeTag:function(e,t){var c=s(e);c.topic=t,r(Object(h.a)(Object(h.a)({},i),{},{chats:i.chats.filter((function(t){return!(t.id==e)})).concat(c)}))},getUser:a,addChat:function(e,t,c){var n={from:i.currentUserId,to:e,text:t,topic:c,datetime:(new Date).toISOString()};r(Object(h.a)(Object(h.a)({},i),{},{chats:i.chats.concat(n)}))},getChat:s,compChats:function(e,t){return e.datetime<t.datetime},publish:function(e){var t={userId:e.from,text:e.text,datetime:e.datetime,topic:e.topic,replies:[]},c=a(e.from);c.tags.includes(e.topic)||(c.tags.push(e.topic),console.log(c.tags)),r(Object(h.a)(Object(h.a)({},i),{},{posts:i.posts.concat(t),users:i.users.filter((function(e){return!(e.id==c.id)})).concat(c)}))}}),children:e.children})},f=c(24),g=c.n(f);var v=function(e){return Object(b.jsx)("div",{className:g.a.header,children:Object(b.jsx)("div",{className:g.a.headerItem,children:Object(b.jsx)("button",{children:Object(b.jsx)("h2",{children:null==e.title?"Project name":e.title})})})})},_=c(29),N=c.n(_);var C=function(){var e=Object(n.useContext)(p),t=e.currentUserId,c=e.users;return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:N.a.container,children:Object(b.jsx)("ul",{children:c.filter((function(e){return e.id!=t})).map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"/chat/"+e.id,children:e.name})})}))})})})};var y=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(v,{title:"Chats"}),Object(b.jsx)(C,{})]})},I=c(18),S=c.n(I);var w=function(e){var t=Object(n.useContext)(p).getUser;return Object(b.jsxs)("div",{className:S.a.whole,children:[Object(b.jsxs)("div",{className:S.a.post,children:[Object(b.jsx)("img",{src:j(t(e.userId).photo),alt:"icon"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("strong",{children:e.userId})}),Object(b.jsx)("p",{children:e.text})]})]}),Object(b.jsx)("ul",{className:S.a.comments,children:e.replies.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("strong",{children:[e.from,":"]})," ",e.text]})}))})]})};c(43);var P=function(){var e=Object(n.useContext)(p).posts,t=Object(o.f)().topic;return console.log(t),Object(b.jsxs)("div",{children:[Object(b.jsx)(v,{title:"Explore"}),("undefined"==typeof t?e:e.filter((function(e){return e.topic===t}))).map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(w,{userId:e.userId,text:e.text,replies:e.replies})})}))]})},T=c(12),A=c.n(T);var U=function(){var e=Object(n.useContext)(p),t=e.users,c=e.currentUserId,i=e.posts,r=Object(o.f)().userId,s=null==r?c:r,l=t.find((function(e){return e.id===s}));return Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(v,{title:"Profile"}),Object(b.jsxs)("div",{className:A.a.head,children:[Object(b.jsx)("img",{src:j(l.photo),alt:"bigFace"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:l.id}),Object(b.jsx)("p",{children:l.name}),Object(b.jsx)("p",{children:l.bio})]})]}),Object(b.jsxs)("div",{className:A.a.content,children:[Object(b.jsxs)("div",{className:A.a.topics,children:[Object(b.jsx)("p",{children:"Tags"}),Object(b.jsx)("ul",{children:l.tags.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(a.b,{to:"/explore/"+e,children:e})})}))})]}),Object(b.jsxs)("div",{className:A.a.recent,children:[Object(b.jsx)("p",{children:"Recent questions"}),Object(b.jsx)("ul",{children:i.filter((function(e){return e.userId===l.id})).map((function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)(a.b,{children:[e.text," ",e.topic]})})}))})]})]})]})},k=c(31),E=c(16),F=c.n(E);var H=function(e){return Object(b.jsxs)("div",{className:F.a.header,children:[Object(b.jsx)("div",{className:F.a.headerItem,children:Object(b.jsx)(a.b,{to:"/",children:Object(b.jsx)("p",{children:"\uff1c"})})}),Object(b.jsx)("div",{className:F.a.headerItem,children:Object(b.jsx)("button",{children:Object(b.jsx)("h2",{children:null==e.title?"Project name":e.title})})}),Object(b.jsx)("div",{className:F.a.headerItem,children:Object(b.jsx)("button",{onClick:e.changeSliderState,children:"\u4e09"})})]})},L=c(30),Y=c.n(L);var Z=function(e){return Object(b.jsxs)("div",{className:Y.a.slider,children:[Object(b.jsx)("p",{children:Object(b.jsx)("strong",{children:"Topics"})}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(t){e.changeSliderState(),e.setTopic("All")},children:"All"})}),e.topics.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(c){e.changeSliderState(),e.setTopic(t)},children:t})})}))]})]})},M=c(8),D=c.n(M);var J=function(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!1),s=Object(x.a)(r,2),l=s[0],d=s[1],u=Object(n.useState)("All"),h=Object(x.a)(u,2),O=h[0],m=h[1],f=Object(o.f)().userId,g=Object(n.useContext)(p),v=g.chats,_=g.addChat,N=g.getUser,C=g.compChats;function y(e){return Object(b.jsx)("li",{className:D.a.bubble,children:Object(b.jsxs)("div",{className:D.a.outer,children:[Object(b.jsx)(a.b,{to:"/profile/"+N(e.from).id,children:Object(b.jsx)("img",{src:j(N(e.from).photo),alt:"icon"})}),Object(b.jsx)(a.b,{to:"/newpost/"+e.id,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("strong",{children:e.from})}),Object(b.jsx)("p",{children:e.text})]})})]})})}function I(){return v.filter((function(e){return e.from===f||e.to===f})).sort(C)}function S(){d(!l)}return Object(b.jsxs)("div",{className:D.a.container,children:[Object(b.jsx)(H,{title:"Chat with "+f,changeSliderState:S}),l&&Object(b.jsx)(Z,{setTopic:m,topics:function(){var e=[];return I().forEach((function(t){return e.push(t.topic)})),Object(k.a)(new Set(e))}(),changeSliderState:S}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:Object(b.jsx)("ul",{className:D.a.history,children:"All"==O?I().map((function(e){return y(e)})):I().filter((function(e){return e.topic==O})).map((function(e){return y(e)}))})})}),Object(b.jsx)("div",{className:D.a.inputArea,children:Object(b.jsxs)("form",{className:D.a.addComment,onSubmit:function(e){""!==c&&(_(f,c,O),i("")),e.preventDefault()},children:[Object(b.jsx)("input",{className:D.a.chatInput,type:"text",placeholder:"Add a comment\u2026",value:c,onChange:function(e){return i(e.target.value)}}),Object(b.jsx)("button",{className:D.a.send,type:"submit",children:"send"})]})})]})},X=c(19),K=c.n(X);var R=function(e){var t=Object(o.f)().chatId,c=Object(n.useContext)(p),i=c.changeTag,r=c.currentUserId,s=c.getChat,l=c.getUser,d=c.publish,u=s(t),h=Object(n.useState)(u.topic),O=Object(x.a)(h,2),m=O[0],f=O[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(v,{title:"Post"}),Object(b.jsxs)("div",{className:K.a.msg,children:[Object(b.jsx)("img",{src:j(l(u.from).photo),alt:"icon"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("strong",{children:u.from})}),Object(b.jsx)("p",{children:u.text})]})]}),Object(b.jsxs)("div",{className:K.a.tagArea,children:[Object(b.jsx)("p",{children:u.topic}),Object(b.jsxs)("form",{onSubmit:function(e){console.log(m),i(t,m),e.preventDefault()},children:[Object(b.jsx)("input",{type:"text",placeholder:"Type here to change the tag",onChange:function(e){return f(e.target.value)}}),Object(b.jsx)("button",{type:"submit",children:"OK"})]})]}),Object(b.jsxs)("div",{className:K.a.actions,children:[Object(b.jsx)("button",{children:Object(b.jsx)(a.b,{to:"/chat/"+(u.from==r?u.to:u.from),children:"Cancel"})}),Object(b.jsx)("button",{children:"Save"}),Object(b.jsx)("button",{onClick:function(){d(u)},children:"Publish"})]})]})},W=c(25),B=c.n(W);var q=function(){return Object(b.jsx)(a.a,{basename:"/webapp-final-project",children:Object(b.jsx)(m,{children:Object(b.jsxs)("div",{className:B.a.container,children:[Object(b.jsx)("main",{className:B.a.content,children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/explore/:topic?",children:Object(b.jsx)(P,{})}),Object(b.jsx)(o.a,{path:"/chat/:userId",children:Object(b.jsx)(J,{})}),Object(b.jsx)(o.a,{path:"/profile/:userId?",children:Object(b.jsx)(U,{})}),Object(b.jsx)(o.a,{path:"/newpost/:chatId?",children:Object(b.jsx)(R,{})}),Object(b.jsx)(o.a,{path:"/",children:Object(b.jsx)(y,{})})]})}),Object(b.jsx)(u,{})]})})})},Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root")),Q()}],[[44,1,2]]]);
//# sourceMappingURL=main.49cb213d.chunk.js.map